import cv2

cap = cv2.VideoCapture (0)
rta = cv2.VideoWriter("mi_video.avi", cv2.VideoWriter_fourcc(*"XVID"), 20.0, (640,480))

while (cap.isOpened()):
  ret, pic = cap. read ()
  cv2. imshow("video", pic)
  if cv2.waitKey (1) & 0xFF == ord('q'):
    cv2. imwrite("mi_frame.png", pic)
    break
  else: break
cap. release
rta.release()
cv2.destrovAllWindows()